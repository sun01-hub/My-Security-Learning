【攻防世界】web新手题：simple_php

我的解题过程：

1、初次尝试：

映入眼帘的是一串简单的php代码，审计一遍之后能看懂代码的大概意思，但是我尝试在地址栏参数添加a和b的并各赋值0和5555后是错误的。

﻿1234){ //条件分析（详细见下） echo $flag2; } ?>

2、学习与探索

通过查找php类型转换的特性，发现：

第一个flag条件 if ($a==0 and $a)

$a==0:松散比较，很多值都会等于0（字符串”0“、空字符串、false等）

$a:要求$a在布尔判断中为true

矛盾点：需要同时满足等于0但又为真值

第二个flag条件

if(is_numeric($b)){ exit(); } if($b>1234){ echo $flag2; } ?>

如果$b是数字，程序终止

如果$b大于1234，就能获得flag2

矛盾点：需要b为数字，但又要比1234大

3、解题方案

需要同时满足flag1和flag2才可以显示出完整的flag

**获取flag1：**

**使用字符串”0“或”字母等**（为什么可以用字母作为值赋给变量a呢，这个就需要考虑到php转换的特性了，当php进行比较时，如果$a是字符串且以非数字开头，那么非数字开头的字符串会被转换为0）

**获取flag2：**

需要让$b同时满足：

**不能是数字，并且比较是要大于1234**

4、总结

这类CTF题主要考察了PHP类型转换的“特性”，需要弄清楚，php的逻辑运算符的性质，这在CTF题目中经常见到